{% load static %}
<!-- chat/templates/chatapp/register.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel='stylesheet prefetch' href="{% static 'styles/form.css' %}">
    <link rel="icon" href="{% static 'images/chatlogo.svg' %}" type="image/x-icon">
    <title>Register</title>
</head>

<body>

    {% if message %}
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() {
                alert("{{message}}");
            })
        </script>
    {% endif %}

    <div class="container">
        <div class="row vertical-center">
            <div class="col-md-6 offset-md-3">
                <div class="card my-5">
                <form class="card-body p-lg-5" id="registration-form" onsubmit="event.preventDefault(); validateForm();" action="{% url 'chatapp:register' %}" method="post">
                    {% csrf_token %}
                    <div class="text-center">
                        <div class="mb-5">
                            <img class="form-header-image" id="letter-avatar" src="{% static 'images/chatlogo.svg' %}">
                            <h2 class="form-header-title">Chaticon</h2>
                        </div>
                    </div>
                    <div class="form-floating mb-3">
                        <input autofocus type="text" class="form-control form-field" id="username" name="username" placeholder="Username" minlength="3" maxlength="10" required>
                        <label>Username</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control form-field avatar" id="abbreviation" name="abbreviation" placeholder="Abbrevation" maxlength="3" required>
                        <label>Abbreviation</label>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">Foreground Colour</span>
                        <input type="color" class="form-control form-control-color avatar" id="foregroundcolor" name="foreground-color" value="#ffffff">
                        <span class="input-group-text">Background Colour</span>
                        <input type="color" class="form-control form-control-color avatar" id="backgroundcolor" name="background-color" value="#000000">
                        <input type="text" id="avatar-link" name="avatar-link" required hidden>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control form-field" id="age" name="age" placeholder="Age" required>
                        <label>Age</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" id="password" name="password" placeholder="Password" minlength="6" maxlength="20" required>
                        <label>Password</label>
                        <small id="passwordHelpBlock" class="form-text text-muted">
                            Your password must be 6-20 characters long, contain letters or numbers, and must not contain spaces, special characters, or emoji.
                        </small>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" id="confirmpassword" name="confirmpassword" placeholder="Confirm Password" minlength="6" maxlength="20" required>
                        <label>Confirm Password</label>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-color px-5 mb-4 w-100">Register</button>
                    </div>
                    <div id="emailHelp" class="form-text text-center mb-10 text-dark">Already have an Account? <a href="{% url 'chatapp:login' %}" class="text-dark fw-bold"> <br> Login Here</a>
                    </div>
                </form>
                </div>
            </div>
        </div>
    </div>

    <script src="{% static 'javascript/form.js' %}" defer></script>

</body>
</html>